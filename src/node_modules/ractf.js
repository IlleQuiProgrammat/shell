import { APIContext, APIEndpoints, AppContext, WSContext } from "../containers/controllers/Contexts";
export { ENDPOINTS } from "../containers/controllers/API";
export * from "../containers/controllers/UseAPI";

export * from "../components/Misc";
export { SidebarTabs, SBTSection, Section } from "../components/SidebarTabs";
export { FormError, default as Form } from "../components/Form";
export { default as TabbedView, Tab } from "../components/TabbedView";
export { default as ToggleButton } from "../components/ToggleButton";
export { default as ProgressBar } from "../components/ProgressBar";
export { default as Scrollbar } from "../components/Scrollbar";
export { default as Spinner } from "../components/Spinner";
export { default as Button } from "../components/Button";
export { default as Select } from "../components/Select";
export { default as Radio } from "../components/Radio";
export { default as Input } from "../components/Input";
export { default as Table } from "../components/Table";
export { default as Page } from "../containers/pages/bases/Page";
export { Link } from "../components/Link";

export { default as useReactRouter } from "../useReactRouter";
export { default as useWindowSize } from "../useWindowSize";

export const apiEndpoints = APIEndpoints;
export const apiContext = APIContext;
export const appContext = AppContext;
export const wsContext = WSContext;

import("zxcvbn").then(zx => window.__zxcvbn = zx.default);
export const zxcvbn = () => (window.__zxcvbn || null);

export let plugins = {
    categoryType: {},
    challengeMod: {},
    challengeType: {},
    challengeMetadata: {},
    page: {},
    popup: {},
    medals: {},
};

// Export the plugins object for debugging purposes.
window.__ractf_plugins = plugins;

export const registerPlugin = (type, key, handler) => {
    if (!plugins[type]) plugins[type] = {};
    plugins[type][key] = handler;
};

const _fastClick = e => {
    e.target && e.target.click && e.target.click();
    e.preventDefault();
    e.stopPropagation();
    return false;
};
export const fastClick = {
    onMouseDown: _fastClick,
    onTouchStart: _fastClick,
};
